:root{
  --bg:#0f172a;         
  --panel:#111827;     
  --accent:#38bdf8;    
  --line:#1f2937;      
  --text:#e5e7eb;      
  --sub:#94a3b8;       
  --win:#22c55e;      
  --lose:#ef4444;      
}

*{ box-sizing:border-box; }

html,body{
  height:100%;
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background:url("images/halloween_bg.jpeg") no-repeat center center fixed;
  background-size:cover;
  color:var(--text);
}

.app{
  max-width: 520px;
  margin: 32px auto;
  padding: 20px;
  border: 1px solid #172036;
  background: 
    linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
    url("images/panel-bg.jpg") no-repeat center center;
  background-size: cover;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.35);
}

h1{
  text-align:center;
  margin:8px 0 16px;
  letter-spacing:0.5px;
}

.controls{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
}

.mode label{
  display:flex;
  gap:8px;
  align-items:center;
  font-size:0.95rem;
  color:var(--sub);
}

.btn{
  background:var(--accent);
  color:#001018;
  border:none;
  padding:8px 14px;
  border-radius:10px;
  font-weight:600;
  cursor:pointer;
}
.btn:focus-visible{ outline:2px solid white; outline-offset:2px; }
.btn:hover{ filter:brightness(1.1); }

.mark-img {
  width: 70%;      
  height: 70%;
  object-fit: contain;
  pointer-events: none; 
  user-select: none;
}

.status{
  text-align:center;
  margin:6px 0 14px;
  color:var(--accent);
  font-weight:700;
  min-height:1.5em;
}

.board{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
  background: var(--panel);
  padding:12px;
  border-radius:14px;
  border:1px solid var(--line);
}

.cell{
  aspect-ratio:1 / 1;                 
  background: #1a254f;
  border:1px solid #1d2a52;
  border-radius:12px;
  color:#e2e8f0;
  font-size: clamp(2.2rem, 7vw, 3.4rem);
  font-weight:800;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition: transform .08s ease, background .2s ease, border-color .2s ease, opacity .2s ease;
  user-select:none;
}
.cell:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
.cell:hover{ transform: translateY(-2px); background:#0e1a3b; }
.cell[disabled]{ cursor:not-allowed; opacity:0.6; }

.cell.win{
  background: #072813;
  border-color: #146b2e;
  color: #86efac;
}

.cell .mark-img[alt="X"],
.score-mark[alt="X"] {
  filter: drop-shadow(0 0 8px rgba(239, 68, 68, 0.9)) brightness(1.1);
}

.cell .mark-img[alt="O"],
.score-mark[alt="O"] {
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.9)) brightness(1.1);
}

.cell.win .mark-img[alt="X"] {
  filter: drop-shadow(0 0 14px rgba(239, 68, 68, 1)) brightness(1.3);
}

.cell.win .mark-img[alt="O"] {
  filter: drop-shadow(0 0 14px rgba(255, 255, 255, 1)) brightness(1.3);
}

.cell.hover-x {
  box-shadow: 0 0 10px rgba(239, 68, 68, 0.7);   
}

.cell.hover-o {
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
}

.score{
  display:flex;
  justify-content:space-around;
  margin-top:14px;
  color:var(--sub);
  font-weight:600;
}

.score-mark {
  width: 28px;
  height: 28px;
  object-fit: contain;
  vertical-align: middle;
  margin-right: 6px;
}

.tips{
  margin-top:10px;
  color:var(--sub);
  font-size:0.9rem;
  text-align:center;
}

@media (max-width: 420px){
  .app{ margin:16px 10px; padding:16px; }
  .controls{ flex-direction:column; gap:8px; align-items:stretch; }
  .btn{ width:100%; }
}
